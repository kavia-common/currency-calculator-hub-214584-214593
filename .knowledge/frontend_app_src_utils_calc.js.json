{"is_source_file": true, "format": "JavaScript", "description": "This file contains core logic helpers for a calculator application, including functions for input handling, number normalization, arithmetic operations, and calculator state management, designed to be pure and testable.", "external_files": [], "external_methods": [], "published": ["createCalcState", "inputDigit", "inputDecimal", "clearAll", "deleteLast", "setOperator", "equals", "inputKey"], "classes": [], "methods": [{"name": "normalizeNumberString(s)", "description": "Normalizes numeric strings by removing leading zeros, ensuring single decimal points, and preserving sign.", "scope": "", "scopeKind": ""}, {"name": "operate(op, a, b)", "description": "Performs arithmetic operations with safeguards for division by zero.", "scope": "", "scopeKind": ""}, {"name": "formatNumber(n)", "description": "Formats a number to string with limited precision to avoid long float representations.", "scope": "", "scopeKind": ""}, {"name": "createCalcState()", "description": "Creates the initial calculator state object.", "scope": "", "scopeKind": ""}, {"name": "inputDigit(state, digit)", "description": "Handles input of a single digit, updating the calculator state.", "scope": "", "scopeKind": ""}, {"name": "inputDecimal(state)", "description": "Handles input of a decimal point, updating the calculator state.", "scope": "", "scopeKind": ""}, {"name": "clearAll()", "description": "Resets calculator state to initial values.", "scope": "", "scopeKind": ""}, {"name": "deleteLast(state)", "description": "Deletes the last character of the current number entry in the calculator state.", "scope": "", "scopeKind": ""}, {"name": "commitPending(state)", "description": "Internal function to execute the pending operation with current display and accumulator.", "scope": "", "scopeKind": ""}, {"name": "setOperator(state, op)", "description": "Sets the current arithmetic operator, applying any pending operation.", "scope": "", "scopeKind": ""}, {"name": "equals(state)", "description": "Evaluates the current expression and updates the display.", "scope": "", "scopeKind": ""}, {"name": "inputKey(state, key)", "description": "High-level handler for keyboard input, mapping keys to calculator functions.", "scope": "", "scopeKind": ""}], "calls": ["normalizeNumberString", "operate", "createCalcState", "commitPending"], "search-terms": ["calc.js", "normalizeNumberString", "operate", "calculator state", "input digit", "set operator", "calculate", "keyboard input handler"], "state": 2, "file_id": 16, "knowledge_revision": 38, "git_revision": "", "ctags": [{"_type": "tag", "name": "clearAll", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^export function clearAll() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "commitPending", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^function commitPending(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "createCalcState", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^export function createCalcState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "deleteLast", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^export function deleteLast(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "equals", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^export function equals(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "formatNumber", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^function formatNumber(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "inputDecimal", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^export function inputDecimal(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "inputDigit", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^export function inputDigit(state, digit) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, digit)"}, {"_type": "tag", "name": "inputKey", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^export function inputKey(state, key) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, key)"}, {"_type": "tag", "name": "normalizeNumberString", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^function normalizeNumberString(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "operate", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^function operate(op, a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(op, a, b)"}, {"_type": "tag", "name": "setOperator", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/calc.js", "pattern": "/^export function setOperator(state, op) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, op)"}], "hash": "cff72ea22cdf25a1b04ba35c3e469f89", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/utils/calc.js", "revision_history": [{"38": ""}]}