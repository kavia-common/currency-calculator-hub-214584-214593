{"is_source_file": true, "format": "JavaScript", "description": "This file provides a lightweight API client for fetching currency exchange data, including latest rates and symbols, using fetch with timeout and error handling. It determines appropriate base URLs and constructs API requests dynamically.", "external_files": ["../config/env"], "external_methods": ["getBaseUrl"], "published": ["getDailyRates", "getSymbols"], "classes": [], "methods": [{"name": "resolveApiBase()", "description": "Determines the API base URL, falling back to an external API if environment URL is missing or points to same origin.", "scope": "", "scopeKind": ""}, {"name": "stripTrailingSlash(s)", "description": "Removes a trailing slash from a URL string or returns the input if not a string.", "scope": "", "scopeKind": ""}, {"name": "safeString(v)", "description": "Ensures a value is a non-empty trimmed string or undefined.", "scope": "", "scopeKind": ""}, {"name": "joinUrl(base, path)", "description": "Joins base and path segments with a single slash.", "scope": "", "scopeKind": ""}, {"name": "httpGet(url, options = {})", "description": "Performs an HTTP GET request with timeout, JSON parsing, error handling, and optional query parameters.", "scope": "", "scopeKind": ""}, {"name": "detectLatestPath(base)", "description": "Determines the API path for latest rates based on whether the base URL is external.", "scope": "", "scopeKind": ""}, {"name": "detectSymbolsPath(base)", "description": "Determines the API path for fetching currency symbols.", "scope": "", "scopeKind": ""}, {"name": "isExternal(base)", "description": "Checks if a base URL points to the external fallback API.", "scope": "", "scopeKind": ""}, {"name": "getDailyRates(opts = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getSymbols()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getBaseUrl", "stripTrailingSlash", "fetch", "URLSearchParams", "window.location.origin"], "search-terms": ["currency API client", "fetch wrapper", "latest rates", "currency symbols", "external fallback URL", "API base determination", "timeout fetch", "error handling fetch"], "state": 2, "file_id": 14, "knowledge_revision": 34, "git_revision": "", "ctags": [{"_type": "tag", "name": "EXTERNAL_FALLBACK_BASE", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^const EXTERNAL_FALLBACK_BASE = 'https:\\/\\/api.exchangerate.host';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "detectLatestPath", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^function detectLatestPath(base) {$/", "language": "JavaScript", "kind": "function", "signature": "(base)"}, {"_type": "tag", "name": "detectSymbolsPath", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^function detectSymbolsPath(base) {$/", "language": "JavaScript", "kind": "function", "signature": "(base)"}, {"_type": "tag", "name": "getDailyRates", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^export async function getDailyRates(opts = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(opts = {})"}, {"_type": "tag", "name": "getSymbols", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^export async function getSymbols() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "httpGet", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^async function httpGet(url, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {})"}, {"_type": "tag", "name": "isExternal", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^function isExternal(base) {$/", "language": "JavaScript", "kind": "function", "signature": "(base)"}, {"_type": "tag", "name": "joinUrl", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^function joinUrl(base, path) {$/", "language": "JavaScript", "kind": "function", "signature": "(base, path)"}, {"_type": "tag", "name": "resolveApiBase", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^function resolveApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "safeString", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^function safeString(v) {$/", "language": "JavaScript", "kind": "function", "signature": "(v)"}, {"_type": "tag", "name": "stripTrailingSlash", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/services/api.js", "pattern": "/^function stripTrailingSlash(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}], "hash": "665857573f1684f4554017fb31d2dcf6", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/services/api.js", "revision_history": [{"34": ""}]}