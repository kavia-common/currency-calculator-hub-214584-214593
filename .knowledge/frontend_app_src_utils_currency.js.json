{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility functions for handling currency data, including parsing, formatting, conversion calculations, and local storage of user preferences within a currency converter web application.", "external_files": [], "external_methods": ["Intl.NumberFormat", "navigator.language", "window.localStorage.getItem", "window.localStorage.setItem"], "published": ["defaultBaseCurrency", "parseNumber", "formatCurrency", "formatNumberCompact", "buildCurrencyOptions", "convertAmount", "persistSelection", "loadSelection"], "classes": [], "methods": [{"name": "parseNumber(value)", "description": "Normalizes a numeric string to a JavaScript number, handling common locale-specific formats and separators.", "scope": "", "scopeKind": ""}, {"name": "formatCurrency(amount, currencyCode, locale)", "description": "Formats a number into a localized currency string, with fallback if Intl API is unavailable.", "scope": "", "scopeKind": ""}, {"name": "formatNumberCompact(n, locale)", "description": "Formats a number into a compact notation string for concise display.", "scope": "", "scopeKind": ""}, {"name": "buildCurrencyOptions(symbols)", "description": "Creates a sorted array of currency options with codes and descriptions from a symbols map.", "scope": "", "scopeKind": ""}, {"name": "convertAmount(amount, from, to, rates, base = defaultBaseCurrency)", "description": "Converts an amount between currencies using provided exchange rates relative to a base currency.", "scope": "", "scopeKind": ""}, {"name": "persistSelection(state)", "description": "Saves user currency selection preferences and amount into local storage.", "scope": "", "scopeKind": ""}, {"name": "loadSelection()", "description": "Retrieves the last-used currency selection preferences from local storage.", "scope": "", "scopeKind": ""}, {"name": "r(code)", "scope": "convertAmount", "scopeKind": "function", "description": "unavailable"}], "calls": ["Intl.NumberFormat", "navigator.language", "window.localStorage.setItem", "window.localStorage.getItem", "JSON.stringify", "JSON.parse"], "search-terms": ["currency", "formatCurrency", "convertAmount", "parseNumber", "buildCurrencyOptions", "localStorage", "currency symbol", "locale", "number formatting", "currency conversion"], "state": 2, "file_id": 18, "knowledge_revision": 44, "git_revision": "", "ctags": [{"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^      amount: String(state.amount ?? ''),$/", "language": "JavaScript", "kind": "property", "scope": "persistSelection.payload", "scopeKind": "class"}, {"_type": "tag", "name": "amount", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^      amount: typeof data.amount === 'string' ? data.amount : '',$/", "language": "JavaScript", "kind": "property", "scope": "loadSelection.result", "scopeKind": "class"}, {"_type": "tag", "name": "buildCurrencyOptions", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^export function buildCurrencyOptions(symbols) {$/", "language": "JavaScript", "kind": "function", "signature": "(symbols)"}, {"_type": "tag", "name": "convertAmount", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^export function convertAmount(amount, from, to, rates, base = defaultBaseCurrency) {$/", "language": "JavaScript", "kind": "function", "signature": "(amount, from, to, rates, base = defaultBaseCurrency)"}, {"_type": "tag", "name": "defaultBaseCurrency", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^export const defaultBaseCurrency = 'USD';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "formatCurrency", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^export function formatCurrency(amount, currencyCode, locale) {$/", "language": "JavaScript", "kind": "function", "signature": "(amount, currencyCode, locale)"}, {"_type": "tag", "name": "formatNumberCompact", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^export function formatNumberCompact(n, locale) {$/", "language": "JavaScript", "kind": "function", "signature": "(n, locale)"}, {"_type": "tag", "name": "from", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^      from: String(state.from ?? defaultBaseCurrency).toUpperCase(),$/", "language": "JavaScript", "kind": "property", "scope": "persistSelection.payload", "scopeKind": "class"}, {"_type": "tag", "name": "from", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^      from: typeof data.from === 'string' ? data.from.toUpperCase() : defaultBaseCurrency,$/", "language": "JavaScript", "kind": "property", "scope": "loadSelection.result", "scopeKind": "class"}, {"_type": "tag", "name": "loadSelection", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^export function loadSelection() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "parseNumber", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^export function parseNumber(value) {$/", "language": "JavaScript", "kind": "function", "signature": "(value)"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "persistSelection", "scopeKind": "class"}, {"_type": "tag", "name": "persistSelection", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^export function persistSelection(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "r", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^  function r(code) {$/", "language": "JavaScript", "kind": "function", "signature": "(code)", "scope": "convertAmount", "scopeKind": "function"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^    const result = {$/", "language": "JavaScript", "kind": "class", "scope": "loadSelection", "scopeKind": "class"}, {"_type": "tag", "name": "to", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^      to: String(state.to ?? 'EUR').toUpperCase(),$/", "language": "JavaScript", "kind": "property", "scope": "persistSelection.payload", "scopeKind": "class"}, {"_type": "tag", "name": "to", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^      to: typeof data.to === 'string' ? data.to.toUpperCase() : 'EUR',$/", "language": "JavaScript", "kind": "property", "scope": "loadSelection.result", "scopeKind": "class"}, {"_type": "tag", "name": "ts", "path": "/home/kavia/workspace/code-generation/currency-calculator-hub-214584-214593/frontend_app/src/utils/currency.js", "pattern": "/^      ts: Date.now(),$/", "language": "JavaScript", "kind": "property", "scope": "persistSelection.payload", "scopeKind": "class"}], "hash": "c2356beb83d55f17e04a61e7a539b0e3", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/utils/currency.js", "fields": [{"name": "amount: String(state.amount ?? ''),", "scope": "persistSelection.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "amount: typeof data.amount === 'string' ? data.amount : '',", "scope": "loadSelection.result", "scopeKind": "class", "description": "unavailable"}, {"name": "from: String(state.from ?? defaultBaseCurrency).toUpperCase(),", "scope": "persistSelection.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "from: typeof data.from === 'string' ? data.from.toUpperCase() : defaultBaseCurrency,", "scope": "loadSelection.result", "scopeKind": "class", "description": "unavailable"}, {"name": "to: String(state.to ?? 'EUR').toUpperCase(),", "scope": "persistSelection.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "to: typeof data.to === 'string' ? data.to.toUpperCase() : 'EUR',", "scope": "loadSelection.result", "scopeKind": "class", "description": "unavailable"}, {"name": "ts: Date.now(),", "scope": "persistSelection.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"44": ""}]}